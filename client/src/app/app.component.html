<div class="ui container">
  <app-header [loadedFeature]="loadedFeature"
              (featureSelected)="onNavigate($event)"
              [isNodeSelected]="isNodeSelected()"
  >
  </app-header>
  <div>
    <app-action-popup (featureChanged)="onNavigate($event)"
                      [header]="'Add child'"
                      *ngIf="loadedFeature === 'add'"
                      [nodeComponent]="node"
    >
      <app-add-node [nodeComponent]="node"
                    (featureChanged)="onNavigate($event)"
                    (addedNode)="onNavigateNode($event)"></app-add-node>
    </app-action-popup>

    <app-action-popup (featureChanged)="onNavigate($event)"
                      [header]="'Change name of node'"
                      *ngIf="loadedFeature === 'edit'"
                      [nodeComponent]="node"
    >
      <app-edit-node [nodeComponent]="node" (featureChanged)="onNavigate($event)"></app-edit-node>
    </app-action-popup>
    <app-action-popup (featureChanged)="onNavigate($event)"
                      [header]="'Are you sure you want remove this node?'"
                      *ngIf="loadedFeature === 'remove'"
                      [nodeComponent]="node"
    >
      <app-remove-node
        [nodeComponent]="node" (featureChanged)="onNavigate($event)"></app-remove-node>
    </app-action-popup>
  </div>
  <div class="ui divider">
  </div>
  <div class="ui vertical menu fluid">
    <app-node (selected)="onNavigateNode($event)" [selectedNodeComponent]="node"></app-node>
  </div>
</div>
